<!DOCTYPE html>
<html lang="en">
  <head>
    <title>GatheredKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="GatheredKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">GatheredKit Docs</a> (85% documented)</p>
        <p class="header-right"><a href="https://github.com/josephduffy/GatheredKit"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">GatheredKit Reference</a>
        <img id="carat" src="img/carat.png" />
        GatheredKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/BaseSource.html">BaseSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Screen.html">Screen</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/SourceAvailability.html">SourceAvailability</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SourcePropertyUnitError.html">SourcePropertyUnitError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Array.html">Array</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AutomaticallyUpdatingSource.html">AutomaticallyUpdatingSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CustomisableUpdateIntervalSource.html">CustomisableUpdateIntervalSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ManuallyUpdatableSource.html">ManuallyUpdatableSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/NumberBasedSourcePropertyUnit.html">NumberBasedSourcePropertyUnit</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Source.html">Source</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SourceProperty.html">SourceProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SourcePropertyUnit.html">SourcePropertyUnit</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AnyEquatable.html">AnyEquatable</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnySourceProperty.html">AnySourceProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/BeatsPerMinute.html">BeatsPerMinute</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Boolean.html">Boolean</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Byte.html">Byte</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Decibel.html">Decibel</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Degree.html">Degree</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GenericSourceProperty.html">GenericSourceProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Kilopascal.html">Kilopascal</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Meter.html">Meter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Microtesla.html">Microtesla</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Percent.html">Percent</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Pixel.html">Pixel</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Point.html">Point</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='api' class='heading'>API</h1>

<p>GatheredKit aims to provide an intuitive and consistent API without being complex. Updates to the properties of a source can be handled by passing in a closure and retaining an opaque object. When the opaque object is deallocated the closure will also be deallocated.</p>
<h2 id='code-source-code' class='heading'><code><a href="Protocols/Source.html">Source</a></code></h2>

<p>The core of GatheredKit is the <code><a href="Protocols/Source.html">Source</a></code> protocol.</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">Source</span><span class="p">:</span> <span class="kd">class</span> <span class="p">{</span>

    <span class="kd">typealias</span> <span class="kt">UpdateListener</span> <span class="o">=</span> <span class="p">(</span><span class="n">_</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnySourceProperty</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Void</span>

    <span class="kd">static</span> <span class="k">var</span> <span class="nv">availability</span><span class="p">:</span> <span class="kt">SourceAvailability</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>

    <span class="k">var</span> <span class="nv">latestPropertyValues</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnySourceProperty</span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>

    <span class="nf">init</span><span class="p">()</span>

    <span class="kd">func</span> <span class="nf">addUpdateListener</span><span class="p">(</span><span class="n">_</span> <span class="nv">updateListener</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">UpdateListener</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AnyObject</span>

<span class="p">}</span>
</code></pre>

<p>No implementations <em>only</em> conform to <code><a href="Protocols/Source.html">Source</a></code>, but rather conform to one or more of the protocols that extend <code><a href="Protocols/Source.html">Source</a></code>, shown below.</p>
<h2 id='code-automaticallyupdatingsource-code' class='heading'><code><a href="Protocols/AutomaticallyUpdatingSource.html">AutomaticallyUpdatingSource</a></code></h2>

<p>An <code><a href="Protocols/AutomaticallyUpdatingSource.html">AutomaticallyUpdatingSource</a></code> is a <code><a href="Protocols/Source.html">Source</a></code> that provides data in real-time, such as the user&rsquo;s location and the proximity sensor.</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">AutomaticallyUpdatingSource</span><span class="p">:</span> <span class="kt">Source</span> <span class="p">{</span>

    <span class="c1">/// A boolean indicating if the source is currently performing automatic updates</span>
    <span class="k">var</span> <span class="nv">isUpdating</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>

    <span class="cm">/**
     Start monitoring for changes. This will start delegate methods to be called
     and notifications to be posted
     */</span>
    <span class="kd">func</span> <span class="nf">startUpdating</span><span class="p">()</span>

    <span class="cm">/**
     Stop automatically updating
     */</span>
    <span class="kd">func</span> <span class="nf">stopUpdating</span><span class="p">()</span>

<span class="p">}</span>
</code></pre>

<p>An extension is provided to start updating and add a listener in a single call:</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">startUpdating</span><span class="p">(</span><span class="n">every</span> <span class="nv">updateInterval</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">,</span> <span class="nv">updateListener</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">UpdateListener</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AnyObject</span>
</code></pre>
<h2 id='code-customisableupdateintervalsource-code' class='heading'><code><a href="Protocols/CustomisableUpdateIntervalSource.html">CustomisableUpdateIntervalSource</a></code></h2>

<p>A <code><a href="Protocols/CustomisableUpdateIntervalSource.html">CustomisableUpdateIntervalSource</a></code> is a <code><a href="Protocols/Source.html">Source</a></code> that supports customising the update frequency, e.g. the gyroscope</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">CustomisableUpdateIntervalSource</span><span class="p">:</span> <span class="kt">Source</span> <span class="p">{</span>

    <span class="c1">/// The time interval between property updates. A value of `nil` indicates that</span>
    <span class="c1">/// the source is not performing periodic updates</span>
    <span class="k">var</span> <span class="nv">updateInterval</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>

    <span class="c1">/// A boolean indicating if the source is performing period updates every `updateInterval`</span>
    <span class="k">var</span> <span class="nv">isUpdating</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>

    <span class="cm">/**
     Start performing periodic updates, updating every `updateInterval` seconds

     - parameter updateInterval: The interval between updates, measured in seconds
     */</span>
    <span class="kd">func</span> <span class="nf">startUpdating</span><span class="p">(</span><span class="n">every</span> <span class="nv">updateInterval</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">)</span>

    <span class="cm">/**
     Stop performing periodic updates
     */</span>
    <span class="kd">func</span> <span class="nf">stopUpdating</span><span class="p">()</span>

<span class="p">}</span>
</code></pre>

<p>An extension is provided to start updating and add a listener in a single call:</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">startUpdating</span><span class="p">(</span><span class="n">_</span> <span class="nv">updateListener</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">UpdateListener</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AnyObject</span>
</code></pre>
<h2 id='code-manuallyupdatablesource-code' class='heading'><code><a href="Protocols/ManuallyUpdatableSource.html">ManuallyUpdatableSource</a></code></h2>

<p>A <code><a href="Protocols/ManuallyUpdatableSource.html">ManuallyUpdatableSource</a></code> is a <code><a href="Protocols/Source.html">Source</a></code> that can only be manually updated. <code><a href="Protocols/ManuallyUpdatableSource.html">ManuallyUpdatableSource</a></code> extends <code><a href="Protocols/CustomisableUpdateIntervalSource.html">CustomisableUpdateIntervalSource</a></code>, meaning all <code><a href="Protocols/ManuallyUpdatableSource.html">ManuallyUpdatableSource</a></code>s at least support updating via polling.</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">ManuallyUpdatableSource</span><span class="p">:</span> <span class="kt">CustomisableUpdateIntervalSource</span> <span class="p">{</span>

    <span class="cm">/**
     Force the source to update its properties. Note that there is no guarantee that new data
     will be available

     - returns: The property values after the update
     */</span>
    <span class="kd">func</span> <span class="nf">updateProperties</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">AnySourceProperty</span><span class="p">]</span>

<span class="p">}</span>
</code></pre>
<h2 id='installation' class='heading'>Installation</h2>

<p>GatheredKit can be installed using any of the below methods. Once installed, simply <code>import GatheredKit</code> to start using it.</p>
<h2 id='carthage' class='heading'>Carthage</h2>

<p>To install via Carthage add to following to your <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "JosephDuffy/GatheredKit"
</code></pre>

<p>Run <code>carthage update GatheredKit</code> to build the framework and then drag the built framework file in to your Xcode project.</p>

<p>If you plan to submit an app to Apple that uses GatheredKit, remember to add GatheredKit to your <a href="https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos">script build phase to work around an App Store Submission bug</a>:</p>
<pre class="highlight plaintext"><code>$(SRCROOT)/Carthage/Build/iOS/GatheredKit.framework
</code></pre>

<p>and</p>
<pre class="highlight plaintext"><code>$(BUILT_PRODUCTS_DIR)/$(FRAMEWORKS_FOLDER_PATH)/GatheredKit.framework
</code></pre>
<h2 id='tests' class='heading'>Tests</h2>

<p>Running the tests for GatheredKit requires <code>Quick</code> and <code>Nimble</code>, which can be installed using Carthage:</p>

<p><code>carthage build --platform iOS --no-use-binaries</code></p>

<p>Alternatively running <code>fastlane test</code> will install the dependencies and run the tests.</p>
<h2 id='license' class='heading'>License</h2>

<p>The project is released under the MIT license. View the <a href="./LICENSE">LICENSE</a> file for the full license.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="https://josephduffy.co.uk" target="_blank" rel="external">Joseph Duffy</a>. All rights reserved. (Last updated: 2018-05-23)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
